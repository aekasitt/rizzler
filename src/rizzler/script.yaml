serve:
  - '#!/usr/bin/env python3'
  - 'from contextlib import asynccontextmanager'
  - 'from fastapi import FastAPI'
  - 'from fastapi.requests import Request'
  - 'from fastapi.responses import HTMLResponse'
  - 'from fastapi.staticfiles import StaticFiles'
  - 'from rizzler import Rizzler, RizzleTemplates'
  - 'from typing import List, Tuple'
  - ''
  - 'templates = RizzleTemplates(directory="templates")'
  - ''
  - '@Rizzler.load_config'
  - 'def rizzler_settings() -> List[Tuple[str, str]]:'
  - '  return [("framework", "react")]'
  - ''
  - '@asynccontextmanager'
  - 'async def lifespan(_: FastAPI):'
  - '  await Rizzler.serve()'
  - '  yield'
  - '  Rizzler.shutdown()'
  - ''
  - 'app = FastAPI(lifespan=lifespan)'
  - ''
  - '@app.get("/", response_class=HTMLResponse)'
  - 'def index(request: Request) -> HTMLResponse:'
  - '  return templates.TemplateResponse("index.html", {"request": request})'
  - ''
  - 'app.mount("/", StaticFiles(directory="public"), name="public")'
